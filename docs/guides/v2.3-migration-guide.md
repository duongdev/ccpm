# CCPM v2.3 Migration Guide

**Upgrade to the faster, simpler CCPM experience**

---

## Overview

CCPM v2.3 introduces 6 new optimized commands that are **40-60% faster** than the old workflow.

The good news: **All old commands still work!** You can migrate at your own pace.

**Timeline:** You have 6+ months before old commands are deprecated (Aug 2026).

---

## Migration Paths by User Type

### Power Users (Using CCPM Daily)

**Estimated effort:** 30 minutes to learn, 1-2 days to fully adopt

#### Step 1: Understand the Mapping (15 min)

| Old Workflow | New Command | Benefit |
|--------------|-------------|---------|
| `/ccpm:planning:create` + `/ccpm:planning:plan` | `/ccpm:plan` | 50% faster |
| `/ccpm:implementation:start` | `/ccpm:work` | 55% faster, auto-detects |
| `/ccpm:implementation:sync` | `/ccpm:sync` | 40% faster, auto-detects |
| Manual git commits | `/ccpm:commit` | 60% faster, auto-links |
| `/ccpm:verification:check` + `/ccpm:verification:verify` | `/ccpm:verify` | 45% faster |
| `/ccpm:complete:finalize` | `/ccpm:done` | 40% faster, auto-detects |

#### Step 2: Try One Command (10 min)

Start with `/ccpm:work` since it's easiest (auto-detects branch):

```bash
# Old way
git checkout -b feature/PSN-30-auth
/ccpm:implementation:start PSN-30

# New way
git checkout -b feature/PSN-30-auth
/ccpm:work  # Auto-detects from branch!
```

Both work. New way is simpler!

#### Step 3: Use Alongside Old Commands (30 min - 1 hour)

Mix old and new commands:

```bash
# Some new commands
/ccpm:work      # New, auto-detects
/ccpm:sync "Done" # New, auto-detects

# Still using old commands? That's fine!
/ccpm:verification:check PSN-30  # Old way
/ccpm:complete:finalize PSN-30   # Old way
```

No issues with mixing. Gradually replace old commands.

#### Step 4: Migrate Your Workflows (1-2 days)

Replace old patterns with new ones:

**Planning workflow:**
```bash
# Old (2 commands)
/ccpm:planning:create "Add auth" my-app JIRA-123
/ccpm:planning:plan WORK-123

# New (1 command)
/ccpm:plan "Add auth" my-app
```

**Implementation workflow:**
```bash
# Old (3+ commands)
/ccpm:implementation:start WORK-123
# ... work ...
/ccpm:implementation:sync WORK-123 "Progress"
git commit -m "message"
/ccpm:implementation:next WORK-123

# New (3 commands, auto-detect)
/ccpm:work        # Auto-detects from branch
# ... work ...
/ccpm:sync "Progress"  # Auto-detects
/ccpm:commit "message" # Auto-detects + auto-formats
```

**Completion workflow:**
```bash
# Old (3+ steps)
/ccpm:verification:check WORK-123
/ccpm:verification:verify WORK-123
/ccpm:complete:finalize WORK-123
# Manual PR review and Jira sync

# New (2 commands, auto-detect)
/ccpm:verify  # Combines check + verify
/ccpm:done    # Creates PR + syncs Linear
```

### Casual Users (Using CCPM Weekly)

**Estimated effort:** 10 minutes to understand, 30-60 minutes to fully adopt

#### Simple Process

1. **Auto-update notification** (happens automatically in Claude Code)

2. **See migration hint**
   ```
   âœ¨ Pro Tip: Use /ccpm:work instead of /ccpm:implementation:start
   The new command is 55% faster!
   ```

3. **Try new command when relevant**
   ```bash
   /ccpm:work          # When starting work
   /ccpm:verify        # When checking quality
   /ccpm:done          # When finishing task
   ```

4. **Gradually adopt** new commands naturally

#### Learning Path

- **Week 1**: Try `/ccpm:work` (easiest)
- **Week 2**: Try `/ccpm:verify` and `/ccpm:done`
- **Week 3+**: Try `/ccpm:plan` and `/ccpm:commit`

No rush! Old commands work fine.

### New Users (First-Time CCPM)

**Estimated effort:** 0 (uses new commands from start)

**Good news:** New version is simpler!

1. Install CCPM v2.3 from marketplace
2. New commands show as primary option
3. Default documentation uses new commands
4. Old commands available if needed

See: `docs/guides/v2.3-quick-start.md`

### Integration Developers (API/Automation)

**Estimated effort:** 2-4 hours per integration

#### Step 1: Update API Calls

```javascript
// Old way
POST /api/ccpm/planning/create
{
  "title": "Add auth",
  "project": "my-app",
  "jira_id": "JIRA-123"
}

// New way
POST /api/ccpm/plan
{
  "title": "Add auth",
  "project": "my-app"
  // jira_id optional (inferred)
}
```

#### Step 2: Test in Staging

```bash
/ccpm:work --test-mode
/ccpm:plan "Test task" my-app --test-mode
```

#### Step 3: Update Production Code

Replace old endpoints with new ones in your integration.

#### Step 4: Validate

Test full workflow in production. Adjust as needed.

See: `docs/guides/v2.3-api-migration.md`

---

## Command-by-Command Migration

### Migration 1: Planning

#### Old Workflow (2 commands)
```bash
/ccpm:planning:create "Add JWT authentication" my-app JIRA-123
# Waits for response...
/ccpm:planning:plan PSN-30
# Waits for response...
```

**Tokens:** ~8,000
**Time:** ~30 seconds

#### New Workflow (1 command)
```bash
/ccpm:plan "Add JWT authentication" my-app
# Done!
```

**Tokens:** ~4,000 (50% reduction)
**Time:** ~15 seconds

#### Migration Steps

1. Remove separate plan command
2. Use `/ccpm:plan` instead
3. Simpler parameters (no JIRA ID needed)

**When to migrate:** Immediatelyâ€”no downsides!

---

### Migration 2: Starting Work

#### Old Workflow
```bash
git checkout -b feature/PSN-30-auth
/ccpm:implementation:start PSN-30  # Must provide issue ID
/ccpm:implementation:next PSN-30   # Get next steps
```

**Tokens:** ~6,000
**Time:** ~20 seconds

#### New Workflow
```bash
git checkout -b feature/PSN-30-auth
/ccpm:work  # Auto-detects from branch!
# Shows everything in one go
```

**Tokens:** ~2,700 (55% reduction)
**Time:** ~10 seconds

#### Migration Steps

1. Keep your branch naming standard: `feature/PSN-30-description`
2. Replace command: `/ccpm:implementation:start PSN-30` â†’ `/ccpm:work`
3. Don't provide issue IDâ€”it auto-detects!

**Bonus:** Remove the `/ccpm:implementation:next` call!

---

### Migration 3: Saving Progress

#### Old Workflow
```bash
/ccpm:implementation:sync PSN-30 "Completed JWT endpoints"
```

**Tokens:** ~3,500
**Time:** ~10 seconds

#### New Workflow
```bash
/ccpm:sync "Completed JWT endpoints"  # Auto-detects PSN-30
```

**Tokens:** ~2,100 (40% reduction)
**Time:** ~5 seconds

#### Migration Steps

1. Remove issue ID parameter
2. Commands auto-detects from branch name
3. That's it!

**Tip:** Use `/ccpm:sync` frequently (after each subtask)

---

### Migration 4: Making Commits (NEW!)

#### Old Workflow
```bash
git add .
git commit -m "feat(auth): add JWT endpoints"
# Manually add Linear comment
```

**Tokens:** ~5,000 (manual process)
**Time:** ~15 seconds

#### New Workflow
```bash
/ccpm:commit "Add JWT endpoints"
# Auto-formats + links + updates Linear
```

**Tokens:** ~2,000 (60% reduction)
**Time:** ~5 seconds

#### Migration Steps

1. Replace manual git commits with `/ccpm:commit`
2. Let it format conventional commits automatically
3. Automatically links to Linear

**Benefits:**
- Consistent commit format
- Automatic Linear linking
- Fewer tokens

---

### Migration 5: Verifying Quality

#### Old Workflow (2 commands)
```bash
/ccpm:verification:check PSN-30
# Review checks...
/ccpm:verification:verify PSN-30
# Confirm ready for PR
```

**Tokens:** ~7,000
**Time:** ~25 seconds

#### New Workflow (1 command)
```bash
/ccpm:verify  # Auto-detects PSN-30
# Runs all checks + confirms
```

**Tokens:** ~3,900 (45% reduction)
**Time:** ~12 seconds

#### Migration Steps

1. Remove separate verify commands
2. Use `/ccpm:verify` instead
3. Commands auto-detects from branch

**Simpler!**

---

### Migration 6: Completing Tasks

#### Old Workflow
```bash
/ccpm:complete:finalize PSN-30
# Manual PR review/merge
# Manual Linear status update
```

**Tokens:** ~6,000 (+ manual steps)
**Time:** ~20 seconds + manual work

#### New Workflow
```bash
/ccpm:done  # Auto-detects PSN-30
# All-in-one:
# - Pre-flight checks
# - Creates PR
# - Updates Linear
# - Cleans up
```

**Tokens:** ~3,600 (40% reduction)
**Time:** ~10 seconds + automated

#### Migration Steps

1. Replace finalize command
2. Use `/ccpm:done` instead
3. Auto-detects from branch
4. Enjoy automated PR creation!

---

## Complete Workflow Comparison

### Scenario: Building Feature

#### Old Workflow (Multiple Commands)
```bash
# 1. Plan
/ccpm:planning:create "Add payment processing" my-app JIRA-200
/ccpm:planning:plan PSN-200
# Output: Task created, plan generated

# 2. Create branch
git checkout -b feature/PSN-200-payments

# 3. Start work
/ccpm:implementation:start PSN-200
/ccpm:implementation:next PSN-200

# 4. Work and commit
git add src/payments/processor.ts
git commit -m "feat(payments): add processor"
git add src/payments/gateway.ts
git commit -m "feat(payments): integrate payment gateway"

# 5. Save progress
/ccpm:implementation:sync PSN-200 "Integrated payment processor"

# 6. Before PR, verify
/ccpm:verification:check PSN-200
# Review output...
/ccpm:verification:verify PSN-200

# 7. Complete
/ccpm:complete:finalize PSN-200
```

**Total tokens:** ~35,000+
**Total time:** ~2-3 minutes
**Manual steps:** Create branch, commits, status updates

#### New Workflow (Optimized Commands)
```bash
# 1. Plan
/ccpm:plan "Add payment processing" my-app
# Output: Task created (PSN-200), plan generated

# 2. Create branch (same)
git checkout -b feature/PSN-200-payments

# 3. Start work (auto-detects)
/ccpm:work

# 4. Work and commit (auto-link)
git add src/payments/processor.ts
/ccpm:commit "Add payment processor"

git add src/payments/gateway.ts
/ccpm:commit "Integrate payment gateway"

# 5. Save progress (auto-detect)
/ccpm:sync "Integrated payment processor and gateway"

# 6. Before PR, verify (auto-detect)
/ccpm:verify

# 7. Complete (auto-detect, auto-create PR)
/ccpm:done
```

**Total tokens:** ~17,500 (50% reduction!)
**Total time:** ~1-1.5 minutes (faster)
**Manual steps:** Create branch, commits (rest automated)

---

## Rollback & Fallback

### If You Need Old Commands

#### Temporary Disable

```bash
/ccpm:config feature-flags optimized_workflow_commands false
```

Old commands work as before. New commands still available (just not used by default).

#### Re-enable New Commands

```bash
/ccpm:config feature-flags optimized_workflow_commands true
```

#### If Issues Persist

Report bug:
```bash
/ccpm:help feedback  # Fill bug report form
```

Revert plugin:
```bash
# Remove v2.3
/plugin remove ccpm

# Install v2.2.x
/plugin install ccpm@2.2.4
```

---

## Testing Checklist

Before fully adopting new commands, test:

- [ ] `/ccpm:plan` creates tasks correctly
- [ ] `/ccpm:work` auto-detects from branch
- [ ] `/ccpm:sync` saves progress
- [ ] `/ccpm:commit` creates commits with proper format
- [ ] `/ccpm:verify` runs checks
- [ ] `/ccpm:done` creates PR

**Time to test:** 10-15 minutes

---

## FAQ

**Q: Do I have to migrate?**
A: No! Old commands work forever. Migrate at your pace.

**Q: What if new commands don't work?**
A: They're backward compatible. Can disable and use old commands.

**Q: Will my scripts break?**
A: No. Both old and new commands work in v2.3+.

**Q: Can I use old and new commands together?**
A: Yes! Mix and match as you like.

**Q: When will old commands stop working?**
A: August 2026 (6+ months away). Plenty of time.

**Q: How do I know if migration succeeded?**
A: Verify by comparing token counts:
```bash
# New command should use 40-60% fewer tokens
```

---

## Support During Migration

### Getting Help

1. **Quick questions**: Check FAQ (end of this guide)
2. **Stuck**: Run `/ccpm:help migration`
3. **Found bug**: Report on GitHub Issues
4. **Need support**: Email ccpm-feedback@example.com

### Response Times

- Critical issues: 2 hours
- High priority: 4 hours
- General: 24 hours
- Feature requests: 48 hours

---

## Summary

### Migration Timeline

- **Week 1**: Try one new command
- **Week 2**: Use new commands for 50% of tasks
- **Week 3+**: Fully migrated
- **Next 6 months**: Enjoy 50% faster workflows

### Key Benefits

- **50% faster** (token reduction)
- **Simpler syntax** (fewer parameters)
- **Auto-detection** (no copy-paste)
- **Backward compatible** (no forced migration)

### Start Now

Pick one new command and try it today:

```bash
/ccpm:plan "Your first optimized task" my-app
```

You got this! ðŸš€
